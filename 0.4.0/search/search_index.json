{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"nf-slack","text":"<p>Get Slack notifications for your Nextflow workflows - automatically notified when pipelines start, complete, or fail.</p> <p></p>"},{"location":"#features","title":"Features","text":"<ul> <li>\ud83d\ude80 Automatic Notifications: Get notified when workflows start, complete, or fail</li> <li>\ud83d\udcac Custom Messages: Send custom messages from within your workflow scripts</li> <li>\ud83d\udcce File Uploads \u2014 Share plots, reports, and files directly to Slack</li> <li>\ud83e\udd16 Bot &amp; Webhook Support: Supports both bot and webhook authentication</li> <li>\ud83e\uddf5 Threading: Keep channels clean by threading workflow notifications (Bot only)</li> <li>\ud83c\udfa8 Rich Formatting: Beautiful Slack messages with colors and custom fields</li> <li>\u2699\ufe0f Highly Configurable: Control what notifications are sent and when</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Get started in just 3 simple steps:</p> <ol> <li>Set up a Bot User - Create a Slack App and Bot User (Recommended)</li> <li>Configure your pipeline - Add the plugin to your <code>nextflow.config</code></li> <li>Run your workflow - That's it! Notifications will be sent automatically</li> </ol> <p>Get Started \u2192</p>"},{"location":"#what-you-get","title":"What You Get","text":"<p>Once configured, you'll automatically receive Slack messages for:</p> <ul> <li>\ud83d\ude80 Pipeline starts - Know when your workflow begins</li> <li>\u2705 Successful completions - Celebrate when pipelines finish</li> <li>\u274c Failures - Get alerted immediately when something goes wrong</li> </ul> <p>Each message includes relevant details like run name, duration, and error information.</p>"},{"location":"#basic-example","title":"Basic Example","text":"<p>Add to your <code>nextflow.config</code>:</p> <pre><code>plugins {\n    id 'nf-slack@0.4.0'\n}\n\nslack {\n    enabled = true\n    bot {\n        token = 'xoxb-your-bot-token'\n        channel = 'general'\n    }\n}\n</code></pre> <p>That's it! Your workflow will now send notifications to Slack.</p>"},{"location":"#customize-your-notifications","title":"Customize Your Notifications","text":""},{"location":"#choose-which-events-to-notify","title":"Choose Which Events to Notify","text":"<pre><code>slack {\n    enabled = true\n    bot {\n        token = 'xoxb-your-bot-token'\n        channel = 'general'\n    }\n\n    onStart.enabled = false     // Do not notify when pipeline starts\n    onComplete.enabled = true   // Notify on successful completion\n    onError.enabled = true      // Notify on failures\n}\n</code></pre>"},{"location":"#customize-message-text","title":"Customize Message Text","text":"<pre><code>slack {\n    bot {\n        token = 'xoxb-your-bot-token'\n        channel = 'general'\n    }\n\n    onStart {\n        message = '\ud83c\udfac *My analysis pipeline is starting!*'\n    }\n\n    onComplete {\n        message = '\ud83c\udf89 *Analysis completed successfully!*'\n    }\n\n    onError {\n        message = '\ud83d\udca5 *Pipeline encountered an error!*'\n    }\n}\n</code></pre>"},{"location":"#send-custom-messages-from-your-workflow","title":"Send Custom Messages from Your Workflow","text":"<pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nparams.sample_id = \"SAMPLE_001\"\n\nworkflow {\n    slackMessage(\"\ud83d\udd2c Starting analysis for sample ${params.sample_id}\")\n\n    // Your workflow processes here\n\n    slackMessage(\"\u2705 Analysis complete!\")\n}\n</code></pre>"},{"location":"#upload-files","title":"Upload Files","text":"<pre><code>slack {\n    bot {\n        token = 'xoxb-your-bot-token'\n        channel = 'pipeline-results'\n    }\n\n    onComplete {\n        files = ['results/multiqc_report.html']\n    }\n}\n</code></pre>"},{"location":"#learn-more","title":"Learn More","text":"<ul> <li>Installation Guide - Set up Bot User or Webhook</li> <li>Quick Start - Configure your first notification</li> <li>Usage Guide - Learn all the features</li> <li>Examples Gallery - 9 progressive examples with screenshots</li> <li>API Reference - Complete configuration options</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udc1b Report bugs</li> <li>\ud83d\udca1 Request features</li> <li>\ud83d\udcd6 Read the docs</li> </ul>"},{"location":"#license","title":"License","text":"<p>Copyright 2025, Seqera Labs. Licensed under the Apache License, Version 2.0.</p>"},{"location":"BUILD/","title":"nf-slack Documentation","text":"<p>This directory contains the source files for the nf-slack documentation site, built with MkDocs Material.</p>"},{"location":"BUILD/#building-the-documentation-locally","title":"Building the Documentation Locally","text":""},{"location":"BUILD/#prerequisites","title":"Prerequisites","text":"<p>Install the required Python packages:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>Or install individually:</p> <pre><code>pip install mkdocs-material pymdown-extensions pillow cairosvg mike\n</code></pre>"},{"location":"BUILD/#serve-locally","title":"Serve Locally","text":"<p>Run the development server:</p> <pre><code>mkdocs serve\n</code></pre> <p>Then open http://127.0.0.1:8000 in your browser.</p>"},{"location":"BUILD/#build-static-site","title":"Build Static Site","text":"<p>Build the static site:</p> <pre><code>mkdocs build\n</code></pre> <p>The built site will be in the <code>site/</code> directory.</p>"},{"location":"BUILD/#deploying-with-versioning","title":"Deploying with Versioning","text":"<p>This documentation uses <code>mike</code> for version management:</p> <pre><code># Deploy a new version\nmike deploy --push --update-aliases v0.2.0 latest\n\n# Set the default version\nmike set-default --push latest\n\n# List all versions\nmike list\n\n# Delete a version\nmike delete v0.1.0\n</code></pre>"},{"location":"BUILD/#documentation-structure","title":"Documentation Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 index.md                    # Landing page\n\u251c\u2500\u2500 getting-started/\n\u2502   \u251c\u2500\u2500 installation.md        # Slack webhook setup\n\u2502   \u2514\u2500\u2500 quick-start.md         # Basic configuration\n\u251c\u2500\u2500 usage/\n\u2502   \u251c\u2500\u2500 automatic-notifications.md\n\u2502   \u251c\u2500\u2500 custom-messages.md\n\u2502   \u2514\u2500\u2500 configuration.md\n\u251c\u2500\u2500 examples/\n\u2502   \u2514\u2500\u2500 gallery.md             # 9 progressive examples\n\u251c\u2500\u2500 reference/\n\u2502   \u2514\u2500\u2500 api.md                 # Complete API reference\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 changelog.md\n\u2514\u2500\u2500 images/                    # Screenshots and diagrams\n</code></pre>"},{"location":"BUILD/#github-actions-deployment","title":"GitHub Actions Deployment","text":"<p>The documentation is automatically deployed to GitHub Pages using a workflow_run pattern:</p> <ul> <li>Dev docs: Deployed when code is pushed to <code>main</code> branch (deployed as <code>dev</code> version)</li> <li>Versioned docs: Deployed when the \"Publish Plugin\" workflow completes successfully and creates a new release (deployed as version tag + <code>latest</code> alias)</li> </ul> <p>This approach ensures that versioned documentation is only published after the plugin has been successfully released to the Nextflow registry, avoiding race conditions and ensuring consistency between plugin and documentation versions.</p> <p>See <code>.github/workflows/docs.yml</code> for the deployment workflow.</p>"},{"location":"BUILD/#adding-new-pages","title":"Adding New Pages","text":"<ol> <li>Create a new markdown file in the appropriate directory</li> <li>Add the page to <code>nav</code> section in <code>mkdocs.yml</code></li> <li>Test locally with <code>mkdocs serve</code></li> <li>Commit and push</li> </ol>"},{"location":"BUILD/#styling","title":"Styling","text":"<p>Custom styles are in <code>stylesheets/extra.css</code>. The theme uses:</p> <ul> <li>Primary color: Slack purple (<code>#611f69</code>)</li> <li>Accent color: Slack green (<code>#2EB887</code>)</li> <li>Material theme with dark/light mode support</li> </ul>"},{"location":"BUILD/#links","title":"Links","text":"<ul> <li>Live Documentation</li> <li>MkDocs Material Documentation</li> <li>Mike Versioning Documentation</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing to nf-slack","text":"<p>Thank you for your interest in contributing to nf-slack! This document provides guidelines and instructions for contributing to the project.</p>"},{"location":"CONTRIBUTING/#getting-started","title":"Getting Started","text":""},{"location":"CONTRIBUTING/#prerequisites","title":"Prerequisites","text":"<ul> <li>Java 11 or higher</li> <li>Gradle (wrapper included)</li> <li>Nextflow 25.04.0 or higher</li> <li>A Slack workspace with admin access for testing</li> </ul>"},{"location":"CONTRIBUTING/#development-setup","title":"Development Setup","text":"<ol> <li>Clone the repository</li> </ol> <pre><code>git clone https://github.com/yourusername/nf-slack.git\ncd nf-slack\n</code></pre> <ol> <li>Build the plugin</li> </ol> <pre><code>make assemble\n</code></pre> <ol> <li>Run tests</li> </ol> <pre><code>make test\n</code></pre> <ol> <li>Install locally</li> </ol> <pre><code>make install\n</code></pre> <ol> <li>Test with Nextflow</li> </ol> <pre><code>nextflow run hello -plugins nf-slack@0.4.0 // Make sure to have the correct version!\n</code></pre>"},{"location":"CONTRIBUTING/#development-workflow","title":"Development Workflow","text":""},{"location":"CONTRIBUTING/#making-changes","title":"Making Changes","text":"<ol> <li>Create a feature branch</li> </ol> <pre><code>git checkout -b feature/your-feature-name\n</code></pre> <ol> <li> <p>Make your changes</p> </li> <li> <p>Write clean, well-documented code</p> </li> <li>Follow existing code style and conventions</li> <li> <p>Add tests for new functionality</p> </li> <li> <p>Test your changes</p> </li> </ol> <pre><code>make test\n</code></pre> <ol> <li>Commit your changes</li> </ol> <pre><code>git add .\ngit commit -m \"feat: description of your changes\"\n</code></pre> <p>Follow Conventional Commits for commit messages:</p> <ul> <li><code>feat:</code> - New features</li> <li><code>fix:</code> - Bug fixes</li> <li><code>docs:</code> - Documentation changes</li> <li><code>test:</code> - Test updates</li> <li><code>refactor:</code> - Code refactoring</li> <li> <p><code>chore:</code> - Maintenance tasks</p> </li> <li> <p>Push and create a pull request</p> </li> </ul> <pre><code>git push origin feature/your-feature-name\n</code></pre>"},{"location":"CONTRIBUTING/#code-style","title":"Code Style","text":"<ul> <li>Follow standard Groovy conventions</li> <li>Use meaningful variable and method names</li> <li>Add comments for complex logic</li> <li>Keep methods focused and concise</li> <li>Ensure all tests pass before submitting</li> </ul>"},{"location":"CONTRIBUTING/#testing","title":"Testing","text":"<p>All contributions should include appropriate tests:</p> <ul> <li>Unit tests for new classes and methods</li> <li>Integration tests for workflow features</li> <li>Configuration tests for new config options</li> </ul> <p>Run the test suite:</p> <pre><code>make test\n</code></pre> <p>Run specific tests:</p> <pre><code>./gradlew test --tests \"nextflow.slack.SlackConfigTest\"\n</code></pre>"},{"location":"CONTRIBUTING/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<p>When submitting a pull request:</p> <ol> <li>Provide a clear description of the changes and their purpose</li> <li>Reference any related issues using <code>Fixes #123</code> or <code>Closes #123</code></li> <li>Ensure all tests pass - CI will verify this</li> <li>Update documentation - README, examples, and inline comments</li> <li>Keep changes focused - one feature or fix per PR</li> <li>Respond to feedback - address reviewer comments promptly</li> </ol>"},{"location":"CONTRIBUTING/#pr-checklist","title":"PR Checklist","text":"<ul> <li> Tests added/updated and passing</li> <li> Documentation updated (README, examples, inline comments)</li> <li> Commit messages follow conventional commits format</li> <li> Code follows project style guidelines</li> <li> No breaking changes (or clearly documented if unavoidable)</li> </ul>"},{"location":"CONTRIBUTING/#project-structure","title":"Project Structure","text":"<pre><code>nf-slack/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main/\n\u2502   \u2502   \u251c\u2500\u2500 groovy/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 nextflow/\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 slack/          # Plugin source code\n\u2502   \u2502   \u2514\u2500\u2500 resources/\n\u2502   \u2502       \u2514\u2500\u2500 META-INF/\n\u2502   \u2502           \u2514\u2500\u2500 MANIFEST.MF     # Plugin metadata\n\u2502   \u2514\u2500\u2500 test/\n\u2502       \u2514\u2500\u2500 groovy/\n\u2502           \u2514\u2500\u2500 nextflow/\n\u2502               \u2514\u2500\u2500 slack/          # Test files\n\u251c\u2500\u2500 example/\n\u2502   \u251c\u2500\u2500 configs/                    # Configuration examples\n\u2502   \u251c\u2500\u2500 main.nf                     # Example workflow\n\u2502   \u2514\u2500\u2500 nextflow.config             # Example config\n\u251c\u2500\u2500 plugins/                        # Built plugin files\n\u2514\u2500\u2500 build.gradle                    # Build configuration\n</code></pre>"},{"location":"CONTRIBUTING/#adding-new-features","title":"Adding New Features","text":""},{"location":"CONTRIBUTING/#adding-a-new-configuration-option","title":"Adding a New Configuration Option","text":"<ol> <li>Update configuration class (e.g., <code>SlackConfig.groovy</code>)</li> <li>Add getter/setter methods with appropriate defaults</li> <li>Update message builder (if applicable)</li> <li>Add tests in corresponding test file</li> <li>Update documentation (README and example configs)</li> <li>Add example in <code>example/configs/</code> if appropriate</li> </ol>"},{"location":"CONTRIBUTING/#adding-a-new-notification-type","title":"Adding a New Notification Type","text":"<ol> <li>Create config class (e.g., <code>OnNewEventConfig.groovy</code>)</li> <li>Update <code>SlackConfig.groovy</code> to include new config block</li> <li>Update <code>SlackObserver.groovy</code> to handle new event</li> <li>Update <code>SlackMessageBuilder.groovy</code> for message formatting</li> <li>Add tests for all new components</li> <li>Update documentation and examples</li> </ol>"},{"location":"CONTRIBUTING/#publishing","title":"Publishing","text":""},{"location":"CONTRIBUTING/#prerequisites-for-publishing","title":"Prerequisites for Publishing","text":"<p>To publish the plugin to the Nextflow Plugin Registry:</p> <ol> <li>Create <code>$HOME/.gradle/gradle.properties</code> with your API key:</li> </ol> <pre><code>npr.apiKey=YOUR_NEXTFLOW_PLUGIN_REGISTRY_TOKEN\n</code></pre> <ol> <li>Ensure version is updated in <code>build.gradle</code></li> </ol>"},{"location":"CONTRIBUTING/#creating-a-release","title":"Creating a Release","text":"<p>Releases are fully automated via GitHub Actions when you merge a PR that updates the version:</p> <ol> <li>Create a release PR</li> </ol> <pre><code>git checkout -b release/v0.2.1\n</code></pre> <ol> <li>Update version number in <code>build.gradle</code></li> </ol> <pre><code>version = '0.2.1'\n</code></pre> <ol> <li>Update CHANGELOG.md with release notes</li> </ol> <pre><code>## [0.2.0] - 2024-01-15\n\n### Added\n\n- New feature description\n\n### Fixed\n\n- Bug fix description\n</code></pre> <ol> <li>Commit and push</li> </ol> <pre><code>git add build.gradle CHANGELOG.md\ngit commit -m \"chore: release v0.2.1\"\ngit push origin release/v0.2.1\n</code></pre> <ol> <li>Create and merge PR</li> </ol> <p>Open a pull request to <code>main</code> branch. Once merged, the automation will:</p> <ul> <li>\u2705 Publish plugin to Nextflow Plugin Registry</li> <li>\u2705 Create git tag (e.g., <code>v0.2.1</code>)</li> <li>\u2705 Create GitHub release with changelog</li> </ul> <p>That's it! No manual steps required after merging the PR.</p>"},{"location":"CONTRIBUTING/#manual-release-if-needed","title":"Manual Release (if needed)","text":"<p>If you need to manually trigger a release, use the GitHub Actions workflow:</p> <ol> <li>Go to Actions \u2192 Publish Plugin</li> <li>Click \"Run workflow\"</li> <li>Select the <code>main</code> branch</li> <li>Click \"Run workflow\"</li> </ol> <p>Or publish locally (requires <code>npr.apiKey</code> in <code>~/.gradle/gradle.properties</code>):</p> <pre><code>make release\n</code></pre>"},{"location":"CONTRIBUTING/#versioning","title":"Versioning","text":"<p>This project follows Semantic Versioning:</p> <ul> <li>MAJOR version for incompatible API changes</li> <li>MINOR version for new functionality in a backwards-compatible manner</li> <li>PATCH version for backwards-compatible bug fixes</li> </ul>"},{"location":"CONTRIBUTING/#reporting-issues","title":"Reporting Issues","text":""},{"location":"CONTRIBUTING/#bug-reports","title":"Bug Reports","text":"<p>When reporting bugs, please include:</p> <ul> <li>Clear title and description</li> <li>Steps to reproduce the issue</li> <li>Expected vs actual behavior</li> <li>Environment details (Nextflow version, Java version, OS)</li> <li>Configuration used (sanitize webhook URLs)</li> <li>Relevant logs or error messages</li> </ul>"},{"location":"CONTRIBUTING/#feature-requests","title":"Feature Requests","text":"<p>For feature requests, please describe:</p> <ul> <li>The problem you're trying to solve</li> <li>Proposed solution (if you have one)</li> <li>Alternative solutions considered</li> <li>Use cases and examples</li> </ul>"},{"location":"CONTRIBUTING/#code-of-conduct","title":"Code of Conduct","text":""},{"location":"CONTRIBUTING/#our-standards","title":"Our Standards","text":"<ul> <li>Be respectful and inclusive</li> <li>Welcome newcomers</li> <li>Accept constructive criticism gracefully</li> <li>Focus on what's best for the community</li> <li>Show empathy towards others</li> </ul>"},{"location":"CONTRIBUTING/#unacceptable-behavior","title":"Unacceptable Behavior","text":"<ul> <li>Harassment or discriminatory language</li> <li>Personal attacks</li> <li>Publishing others' private information</li> <li>Other conduct inappropriate in a professional setting</li> </ul>"},{"location":"CONTRIBUTING/#getting-help","title":"Getting Help","text":"<p>If you need help:</p> <ul> <li>\ud83d\udcd6 Check the documentation and examples</li> <li>\ud83d\udc1b Search existing issues</li> <li>\ud83d\udcac Open a new issue with the <code>question</code> label</li> <li>\ud83d\udce7 Contact the maintainers</li> </ul>"},{"location":"CONTRIBUTING/#recognition","title":"Recognition","text":"<p>Contributors will be recognized in:</p> <ul> <li>GitHub contributors list</li> <li>Release notes for significant contributions</li> <li>CONTRIBUTORS file (if we create one)</li> </ul> <p>Thank you for contributing to nf-slack! \ud83c\udf89</p>"},{"location":"examples/gallery/","title":"Examples Gallery","text":"<p>Comprehensive examples demonstrating nf-slack features, from basic to advanced.</p>"},{"location":"examples/gallery/#overview","title":"Overview","text":"<p>The examples are organized into two categories:</p> <ul> <li>Configuration Examples: 10 examples showing automatic workflow notifications</li> <li>Script Examples: 4 examples showing programmatic message sending</li> </ul> <p>Each example focuses on one specific aspect of the plugin, building progressively in complexity.</p>"},{"location":"examples/gallery/#quick-reference","title":"Quick Reference","text":""},{"location":"examples/gallery/#configuration-examples-automatic-notifications","title":"Configuration Examples (Automatic Notifications)","text":"Example Feature Complexity Example 1: Minimal Setup Enable notifications \u2b50 Example 2: Notification Control Control when to notify \u2b50 Example 3: Message Text Customize message text \u2b50\u2b50 Example 4: Message Colors Customize message colors \u2b50\u2b50 Example 5: Custom Fields Add custom fields \u2b50\u2b50\u2b50 Example 6: Selective Fields Choose default fields \u2b50\u2b50\u2b50 Example 7: Footer Control Control timestamp footer \u2b50 Example 8: Specific Channel ID Send to specific channel \u2b50 Example 9: Threaded Messages Group messages in thread \u2b50\u2b50 Example 10: File Upload Upload files on complete \u2b50\u2b50"},{"location":"examples/gallery/#script-examples-programmatic-messages","title":"Script Examples (Programmatic Messages)","text":"Example Feature Complexity Script Example 1 Send from workflow body \u2b50\u2b50 Script Example 2 Send using onComplete \u2b50\u2b50 Script Example 3 Send from channel operators \u2b50\u2b50\u2b50 Script Example 4 Upload files from workflow \u2b50\u2b50"},{"location":"examples/gallery/#getting-started","title":"Getting Started","text":""},{"location":"examples/gallery/#prerequisites","title":"Prerequisites","text":"<p>Set up your Bot Token:</p> <pre><code>export SLACK_BOT_TOKEN='xoxb-your-bot-token'\n</code></pre> <p>See the Installation Guide for detailed setup instructions.</p>"},{"location":"examples/gallery/#running-examples","title":"Running Examples","text":"<p>Configuration examples are run by applying them to any workflow:</p> <pre><code># Clone the repository\ngit clone https://github.com/seqeralabs/nf-slack.git\ncd nf-slack\n\n# Run with a configuration example\nnextflow run example/main.nf -c example/configs/01-minimal.config\n</code></pre> <p>Script examples are complete workflows:</p> <pre><code># Run a script example directly\nnextflow run example/scripts/01-message-in-workflow.nf\n</code></pre>"},{"location":"examples/gallery/#configuration-examples","title":"Configuration Examples","text":"<p>Configuration examples show how to set up automatic workflow notifications using the plugin's configuration options.</p>"},{"location":"examples/gallery/#example-1-minimal-setup","title":"Example 1: Minimal Setup","text":"<p>Concept: Just enable notifications with defaults</p> <p>Configuration:</p> 01-minimal.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n}\n</code></pre> <p>What you get:</p> <ul> <li>\u2705 Notifications on start, complete, and error</li> <li>\u2705 Default message templates</li> <li>\u2705 Default formatting</li> </ul> <p>Use when: You want to enable notifications quickly without customization</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-2-notification-control","title":"Example 2: Notification Control","text":"<p>Concept: Choose which events trigger notifications</p> <p>New concepts:</p> <ul> <li><code>onStart.enabled</code> - Control start notifications</li> <li><code>onComplete.enabled</code> - Control completion notifications</li> <li><code>onError.enabled</code> - Control error notifications</li> </ul> <p>Configuration:</p> 02-notification-control.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        enabled = false      // Don't notify on start\n    }\n\n    onComplete {\n        enabled = true       // DO notify on completion\n    }\n\n    onError {\n        enabled = true       // DO notify on error\n    }\n}\n</code></pre> <p>Use when: You want to reduce notification noise (e.g., only errors and completions)</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-3-message-text-customization","title":"Example 3: Message Text Customization","text":"<p>Concept: Customize the text in notification messages</p> <p>New concepts:</p> <ul> <li><code>onStart.message</code> - Custom text for start notifications</li> <li><code>onComplete.message</code> - Custom text for completion notifications</li> <li><code>onError.message</code> - Custom text for error notifications</li> </ul> <p>Configuration:</p> 03-message-text.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        message = '\ud83d\ude80 *My workflow is starting...*'\n    }\n\n    onComplete {\n        message = '\u2705 *My workflow finished successfully!*'\n    }\n\n    onError {\n        message = '\u274c *My workflow failed!*'\n    }\n}\n</code></pre> <p>Supports: Slack markdown formatting (<code>*bold*</code>, <code>_italic_</code>, <code>`code`</code>)</p> <p>Use when: You want different message text than the defaults</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-4-message-colors","title":"Example 4: Message Colors","text":"<p>Concept: Use custom colors for message attachments</p> <p>New concepts:</p> <ul> <li>Map-based message configuration</li> <li><code>color</code> property for hex color codes</li> </ul> <p>Configuration:</p> 04-message-colors.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        message = [\n            text: '\ud83d\ude80 *Pipeline started*',\n            color: '#3AA3E3'  // Blue\n        ]\n    }\n\n    onComplete {\n        message = [\n            text: '\u2705 *Pipeline completed*',\n            color: '#2EB887'  // Green\n        ]\n    }\n\n    onError {\n        message = [\n            text: '\u274c *Pipeline failed*',\n            color: '#A30301'  // Red\n        ]\n    }\n}\n</code></pre> <p>Map structure:</p> <ul> <li><code>text</code> - Message text (same as string format)</li> <li><code>color</code> - Hex color code (e.g., <code>'#FF5733'</code>)</li> </ul> <p>Use when: You want visual distinction with custom colors</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-5-custom-fields","title":"Example 5: Custom Fields","text":"<p>Concept: Add your own custom information fields</p> <p>New concepts:</p> <ul> <li><code>customFields</code> array for additional information</li> <li>Field properties: <code>title</code>, <code>value</code>, <code>short</code></li> </ul> <p>Configuration:</p> 05-custom-fields.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        message = [\n            text: '\ud83d\ude80 *Pipeline started*',\n            color: '#3AA3E3',\n            customFields: [\n                [title: 'Priority', value: 'High', short: true],\n                [title: 'Team', value: 'Bioinformatics', short: true],\n                [title: 'Notes', value: 'Running with increased resources', short: false]\n            ]\n        ]\n    }\n}\n</code></pre> <p>Field structure:</p> <ul> <li><code>title</code> - Field label (required)</li> <li><code>value</code> - Field content (required)</li> <li><code>short</code> - Layout: <code>true</code> = columns (2 per row), <code>false</code> = full width</li> </ul> <p>Use when: You want to add extra context to messages</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-6-selective-default-fields","title":"Example 6: Selective Default Fields","text":"<p>Concept: Choose which built-in workflow information to include</p> <p>New concepts:</p> <ul> <li><code>includeFields</code> array to select default workflow fields</li> <li>Fine-grained control over message content</li> </ul> <p>Configuration:</p> 06-selective-fields.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        message = [\n            text: '\ud83d\ude80 *Pipeline started*',\n            color: '#3AA3E3',\n            includeFields: ['runName', 'status']\n        ]\n    }\n\n    onComplete {\n        message = [\n            text: '\u2705 *Pipeline completed*',\n            color: '#2EB887',\n            includeFields: ['runName', 'duration', 'status', 'tasks']\n        ]\n    }\n\n    onError {\n        message = [\n            text: '\u274c *Pipeline failed*',\n            color: '#A30301',\n            includeFields: ['runName', 'duration', 'errorMessage', 'failedProcess']\n        ]\n    }\n}\n</code></pre> <p>Available fields by event:</p> <p>All messages:</p> <ul> <li><code>runName</code> - Nextflow run name</li> <li><code>status</code> - Workflow status</li> </ul> <p>Start messages only:</p> <ul> <li><code>commandLine</code> - Command used to launch workflow</li> <li><code>workDir</code> - Work directory path</li> </ul> <p>Complete messages only:</p> <ul> <li><code>duration</code> - How long the workflow ran</li> <li><code>tasks</code> - Task statistics (cached, completed, failed)</li> </ul> <p>Error messages only:</p> <ul> <li><code>duration</code> - How long before failure</li> <li><code>errorMessage</code> - Error details</li> <li><code>failedProcess</code> - Which process failed</li> </ul> <p>Important</p> <p>If you use map-based config without <code>includeFields</code>, NO default fields are included (only your <code>customFields</code> if specified).</p> <p>Use when: You want fine-grained control over what information appears</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#example-7-footer-control","title":"Example 7: Footer Control","text":"<p>Concept: Control whether messages include a timestamp footer</p> <p>New concepts:</p> <ul> <li><code>showFooter</code> - Enable/disable timestamp footer per event</li> </ul> <p>Configuration:</p> 07-footer-control.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        showFooter = true    // Show timestamp (default)\n    }\n\n    onComplete {\n        showFooter = false   // Hide footer for cleaner look\n    }\n\n    onError {\n        showFooter = true    // Show timestamp on errors\n    }\n}\n</code></pre> <p>Use when: You want to reduce visual clutter by hiding timestamps on routine notifications.</p> <p></p>"},{"location":"examples/gallery/#example-8-specific-channel-id","title":"Example 8: Specific Channel ID","text":"<p>Concept: Send notifications to a specific channel by ID</p> <p>Configuration:</p> 08-channel-id.config<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        // You can use a channel ID (e.g. 'C12345678') or a channel name\n        channel = 'C12345678'\n    }\n}\n</code></pre> <p>Use when: You want to send notifications to a specific channel by ID instead of name.</p>"},{"location":"examples/gallery/#example-9-threaded-messages","title":"Example 9: Threaded Messages","text":"<p>Concept: Group all workflow notifications (start, complete, error) into a single thread</p> <p>New concepts:</p> <ul> <li><code>useThreads</code> - Enable threading to reduce channel clutter</li> <li>Each workflow run creates a new thread automatically</li> </ul> <p>Configuration:</p> 09-threaded-messages.config<pre><code>slack {\n    useThreads = true  // Group all workflow messages in a thread\n\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart {\n        message = '\ud83d\ude80 *Pipeline started*'\n    }\n\n    onComplete {\n        message = '\u2705 *Pipeline completed successfully*'\n    }\n\n    onError {\n        message = '\u274c *Pipeline failed*'\n    }\n}\n</code></pre> <p></p> <p>How it works:</p> <ol> <li>The initial \"workflow started\" message creates a new thread</li> <li>Subsequent messages (complete/error) are posted as replies to that thread</li> <li>Custom messages sent via <code>slackMessage()</code> are also posted in the thread</li> <li>Each new workflow run creates a separate thread</li> </ol> <p>Important notes:</p> <ul> <li>\u26a0\ufe0f Threading only works with bot tokens (see Threading configuration for details)</li> <li>\u2705 Reduces channel clutter by keeping related messages together</li> <li>\u2705 Each workflow run gets its own thread</li> <li>\u2705 Custom <code>slackMessage()</code> calls are automatically included in the thread</li> </ul> <p>Use when: You want to keep workflow notifications organized and reduce noise in busy channels.</p>"},{"location":"examples/gallery/#example-10-file-upload-on-completion","title":"Example 10: File Upload on Completion","text":"<p>Concept: Upload files automatically when the pipeline completes or fails.</p> <p>New concepts:</p> <ul> <li><code>onComplete.files</code> - Files to upload on successful completion</li> <li><code>onError.files</code> - Files to upload on failure</li> <li>Requires bot token with <code>files:write</code> scope</li> </ul> <p>Configuration:</p> 10-file-upload.config<pre><code>plugins {\n    id 'nf-slack@0.4.0'\n}\n\nslack {\n    enabled = true\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'pipeline-results'\n    }\n\n    onComplete {\n        message = '\u2705 *Pipeline completed*'\n        files = ['results/multiqc_report.html', 'results/pipeline_report.html']\n    }\n\n    onError {\n        message = '\u274c *Pipeline failed*'\n        files = ['results/pipeline_report.html']\n    }\n}\n</code></pre> <p>File upload options:</p> <ul> <li><code>files</code> - Array of file paths to upload</li> <li>Relative paths resolve from the launch directory (where you run <code>nextflow</code>)</li> </ul> <p>Use when: You want to automatically share reports and results files to Slack when workflows complete</p> <p>See Custom Messages for uploading files from within your workflow scripts.</p>"},{"location":"examples/gallery/#script-examples","title":"Script Examples","text":"<p>Script examples demonstrate how to use the <code>slackMessage()</code> function programmatically within your Nextflow workflows.</p> <p>Disable Automatic Notifications</p> <p>These examples disable automatic notifications to avoid duplicate messages. Adjust your configuration:</p> <pre><code>slack {\n    bot {\n        token = System.getenv(\"SLACK_BOT_TOKEN\")\n        channel = 'general'\n    }\n\n    onStart.enabled = false\n    onComplete.enabled = false\n    onError.enabled = false\n}\n</code></pre>"},{"location":"examples/gallery/#script-example-1-message-in-workflow","title":"Script Example 1: Message in Workflow","text":"<p>Concept: Send a message from the workflow body after processes complete</p> <p>Code:</p> 01-message-in-workflow.nf<pre><code>#!/usr/bin/env nextflow\n\n// Import the Slack messaging function\ninclude { slackMessage } from 'plugin/nf-slack'\n\nprocess HELLO {\n    input:\n    val sample_id\n\n    output:\n    stdout\n\n    script:\n    \"\"\"\n    echo \"Processing sample: ${sample_id}\"\n    sleep 2  # Simulate some work\n    echo \"${sample_id}_processed\"\n    \"\"\"\n}\n\nworkflow {\n    inputs = channel.of('sample_1', 'sample_2', 'sample_3')\n    HELLO(inputs)\n\n    // Send rich formatted completion message\n    slackMessage([\n        message: \"Example workflow complete! \ud83c\udf89\",\n        color: \"#2EB887\",  // Green for success\n        fields: [\n            [title: \"Status\", value: \"Success\", short: true],\n            [title: \"Samples\", value: \"3\", short: true]\n        ]\n    ])\n}\n</code></pre> <p>Key features:</p> <ul> <li>Uses <code>slackMessage()</code> function directly in workflow body</li> <li>Sends message after processes complete</li> <li>Supports same map format as config examples</li> </ul> <p>Use when: You want to send a message at a specific point in your workflow logic</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#script-example-2-message-on-complete","title":"Script Example 2: Message on Complete","text":"<p>Concept: Send a message using the <code>workflow.onComplete</code> event handler</p> <p>Code:</p> 02-message-on-complete.nf<pre><code>#!/usr/bin/env nextflow\n\ninclude { slackMessage } from 'plugin/nf-slack'\n\nprocess HELLO {\n    input:\n    val sample_id\n\n    output:\n    stdout\n\n    script:\n    \"\"\"\n    echo \"Processing sample: ${sample_id}\"\n    \"\"\"\n}\n\nworkflow {\n    inputs = channel.of('sample_1', 'sample_2', 'sample_3')\n    HELLO(inputs)\n\n    // Send message when workflow completes\n    workflow.onComplete = {\n        def status = workflow.success ? '\u2705 SUCCESS' : '\u274c FAILED'\n        def color = workflow.success ? '#2EB887' : '#A30301'\n\n        slackMessage([\n            message: \"Workflow ${status}\",\n            color: color,\n            fields: [\n                [title: \"Duration\", value: \"${workflow.duration}\", short: true]\n            ]\n        ])\n    }\n}\n</code></pre> <p>Key features:</p> <ul> <li>Uses <code>workflow.onComplete</code> event handler</li> <li>Access to workflow metadata (success status, duration, etc.)</li> <li>Conditional message formatting based on success/failure</li> </ul> <p>Use when: You want to send a summary message when the workflow finishes, with access to workflow metadata</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#script-example-3-message-within-channel","title":"Script Example 3: Message within Channel","text":"<p>Concept: Send messages from within channel operators during processing</p> <p>Code:</p> 03-message-within-channel.nf<pre><code>#!/usr/bin/env nextflow\n\ninclude { slackMessage } from 'plugin/nf-slack'\n\nprocess HELLO {\n    input:\n    val sample_id\n\n    output:\n    stdout\n\n    script:\n    \"\"\"\n    echo \"Processing sample: ${sample_id}\"\n    \"\"\"\n}\n\nworkflow {\n    inputs = channel.of('sample_1', 'sample_2', 'sample_3')\n        .map { sample -&gt;\n            // Send a message for each item\n            slackMessage(\"\u2699\ufe0f Processing ${sample}\")\n            return sample\n        }\n\n    HELLO(inputs)\n}\n</code></pre> <p>Key features:</p> <ul> <li>Uses <code>slackMessage()</code> within channel operator (<code>.map</code>)</li> <li>Sends individual messages for each channel item</li> <li>Simple string format for quick notifications</li> </ul> <p>High Volume Usage</p> <p>Be cautious when sending messages in channel operators with many items. Slack has rate limits on incoming webhooks, and sending too many messages rapidly may result in throttling.</p> <p>Use when: You want to send notifications during data processing, tracking progress through a channel</p> <p>Output:</p> <p></p>"},{"location":"examples/gallery/#script-example-4-upload-files-from-workflow","title":"Script Example 4: Upload Files from Workflow","text":"<p>Concept: Upload files directly from your workflow code using <code>slackFileUpload()</code>.</p> <p>Code:</p> 04-file-upload.nf<pre><code>#!/usr/bin/env nextflow\n\ninclude { slackFileUpload } from 'plugin/nf-slack'\n\nprocess GENERATE_REPORT {\n    output:\n    path 'report.html'\n\n    script:\n    \"\"\"\n    echo '&lt;html&gt;&lt;body&gt;Report&lt;/body&gt;&lt;/html&gt;' &gt; report.html\n    \"\"\"\n}\n\nworkflow {\n    GENERATE_REPORT()\n        .view { report -&gt;\n            // Simple upload\n            slackFileUpload(report)\n\n            // Upload with metadata\n            slackFileUpload(\n                file: report,\n                title: 'Quality Control Report',\n                comment: 'QC results for the latest run'\n            )\n\n            return report\n        }\n}\n</code></pre> <p>Key features:</p> <ul> <li>Uses <code>slackFileUpload()</code> function directly in workflow</li> <li>Supports simple file path or map-based configuration</li> <li>Can include title and comment metadata</li> <li>Requires bot token with <code>files:write</code> scope</li> </ul> <p>Upload options:</p> <ul> <li><code>file</code> - Path to file to upload (required)</li> <li><code>title</code> - Display title for the file (optional)</li> <li><code>comment</code> - Comment to post with the file (optional)</li> </ul> <p>Use when: You want to upload files programmatically from within your workflow logic</p> <p>See Custom Messages for all upload options.</p>"},{"location":"examples/gallery/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the API Reference for complete configuration options</li> <li>Learn about automatic notifications</li> <li>Discover custom messages</li> </ul>"},{"location":"examples/gallery/#all-example-files","title":"All Example Files","text":"<p>All example files are available in the nf-slack repository:</p> <ul> <li>Configuration examples: <code>example/configs/</code></li> <li>Script examples: <code>example/scripts/</code></li> <li>Base workflow: <code>example/main.nf</code></li> </ul>"},{"location":"getting-started/bot-setup/","title":"Slack Bot Setup","text":"<p>This guide will walk you through setting up Slack Bot authentication for your workspace. Bot authentication is the recommended method as it's more secure, more capable, and easier to manage than webhooks.</p>"},{"location":"getting-started/bot-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>A Slack workspace where you have permission to add apps</li> <li>Access to your Nextflow pipeline configuration</li> </ul>"},{"location":"getting-started/bot-setup/#step-1-create-a-slack-app","title":"Step 1: Create a Slack App","text":"<ol> <li>Go to Slack API Apps</li> <li>Click \"Create New App\"</li> <li>Choose \"From scratch\"</li> <li>Give your app a name (e.g., \"Nextflow Notifications\")</li> <li>Select your workspace</li> <li>Click \"Create App\"</li> </ol>"},{"location":"getting-started/bot-setup/#step-2-add-bot-permissions","title":"Step 2: Add Bot Permissions","text":"<ol> <li>In your app's settings, navigate to \"OAuth &amp; Permissions\" in the sidebar</li> <li>Scroll down to \"Scopes\" \u2192 \"Bot Token Scopes\"</li> <li>Click \"Add an OAuth Scope\" and add the following scopes:</li> <li><code>chat:write</code> - Required to send messages</li> <li><code>chat:write.public</code> - Optional, allows posting to channels without joining them first</li> </ol>"},{"location":"getting-started/bot-setup/#step-3-install-app-and-copy-bot-token","title":"Step 3: Install App and Copy Bot Token","text":"<ol> <li>In \"OAuth &amp; Permissions\", scroll to the top</li> <li>Click \"Install to Workspace\"</li> <li>Review the permissions and click \"Allow\"</li> <li>You'll see a \"Bot User OAuth Token\" starting with <code>xoxb-</code></li> </ol> <p>Copy this token - you'll need it for configuration. It will look like:</p> <pre><code>xoxb-1234567890-1234567890123-xxxxxxxxxxxxxxxxxxxx\n</code></pre> <p>Keep Your Bot Token Secret</p> <p>This token allows anyone to post messages as your bot. Never commit it to version control or share it publicly.</p>"},{"location":"getting-started/bot-setup/#step-4-configure-the-channel","title":"Step 4: Configure the Channel","text":"<p>For most cases, you can simply use the channel name (e.g., <code>general</code>, <code>pipelines</code>) in your configuration.</p> <p>If you prefer to use a Channel ID (which remains stable even if the channel is renamed), you can find it as follows:</p> <ol> <li>Open Slack and navigate to the channel</li> <li>Click the channel name at the top</li> <li>Scroll down in the \"About\" tab</li> <li>Copy the Channel ID from the bottom (e.g., <code>C1234567890</code>)</li> </ol> <p>Alternatively, look at the channel URL in your browser: <code>https://app.slack.com/client/T.../C1234567890</code> (the part starting with <code>C</code>).</p>"},{"location":"getting-started/bot-setup/#step-5-store-your-bot-token-securely","title":"Step 5: Store Your Bot Token Securely","text":"<p>You have several options for managing the bot token and channel ID securely:</p>"},{"location":"getting-started/bot-setup/#option-1-environment-variables","title":"Option 1: Environment Variables","text":"<p>Recommended</p> <p>Set environment variables:</p> <pre><code>export SLACK_BOT_TOKEN='xoxb-your-bot-token-here'\nexport SLACK_CHANNEL_ID='C1234567890'\n</code></pre> <p>Then reference them in your <code>nextflow.config</code>:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n}\n</code></pre>"},{"location":"getting-started/bot-setup/#option-2-nextflow-secret","title":"Option 2: Nextflow Secret","text":"<p>Better, but supported in fewer places</p> <p>Use Nextflow secrets:</p> <pre><code>nextflow secrets set SLACK_BOT_TOKEN 'xoxb-your-bot-token-here'\nnextflow secrets set SLACK_CHANNEL_ID 'C1234567890'\n</code></pre> <p>Then reference it in your config:</p> <pre><code>slack {\n    bot {\n        token = secrets.SLACK_BOT_TOKEN\n        channel = 'general'\n    }\n}\n</code></pre>"},{"location":"getting-started/bot-setup/#option-3-configuration-file","title":"Option 3: Configuration File","text":"<p>For testing only, you can put it directly in <code>nextflow.config</code>:</p> <pre><code>slack {\n    bot {\n        token = 'xoxb-your-bot-token-here'\n        channel = 'general'\n    }\n}\n</code></pre> <p>Don't Commit Bot Tokens</p> <p>If you use this option, add your config file to <code>.gitignore</code> to prevent accidentally committing your bot token.</p>"},{"location":"getting-started/bot-setup/#testing-your-bot","title":"Testing Your Bot","text":"<p>To verify your bot is working, you can use the Slack API tester or test it with curl:</p> <pre><code>curl -X POST https://slack.com/api/chat.postMessage \\\n  -H \"Authorization: Bearer $SLACK_BOT_TOKEN\" \\\n  -H \"Content-type: application/json\" \\\n  --data \"{\\\"channel\\\":\\\"$SLACK_CHANNEL_ID\\\",\\\"text\\\":\\\"Test message from nf-slack\\\"}\"\n</code></pre> <p>If this works, you should see a test message in your Slack channel.</p>"},{"location":"getting-started/bot-setup/#next-steps","title":"Next Steps","text":"<p>Now that you have your bot configured, you can:</p> <ul> <li>Return to the Quick Start guide to configure the plugin</li> <li>Learn about automatic notifications</li> <li>Explore custom messages</li> </ul>"},{"location":"getting-started/bot-setup/#learn-more","title":"Learn More","text":"<ul> <li>Slack Bot Users Documentation</li> <li>Slack OAuth &amp; Permissions</li> <li>Nextflow Secrets Documentation</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers installing the nf-slack plugin in your Nextflow pipeline.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Nextflow v25.04.0 or later</li> <li>A Bot Token (see Bot Setup guide) OR Slack webhook URL (see Webhook Setup guide)</li> </ul>"},{"location":"getting-started/installation/#adding-the-plugin","title":"Adding the Plugin","text":"<p>Add the nf-slack plugin to your <code>nextflow.config</code>:</p> <pre><code>plugins {\n    id 'nf-slack@0.4.0'\n}\n</code></pre> <p>Using Multiple Plugins?</p> <p>If you already have a <code>plugins</code> block, just add the nf-slack entry:</p> <pre><code>plugins {\n    id 'nf-validation'\n    id 'nf-slack@0.4.0'  // Add this line\n}\n</code></pre>"},{"location":"getting-started/installation/#specifying-a-version","title":"Specifying a Version","text":"<p>You can specify a particular version of the plugin:</p> <pre><code>plugins {\n    id 'nf-slack@0.4.0'  // Use a specific version\n}\n</code></pre> <p>To use the latest version, omit the version number:</p> <pre><code>plugins {\n    id 'nf-slack'  // Uses the latest version\n}\n</code></pre>"},{"location":"getting-started/installation/#manual-installation","title":"Manual Installation","text":"<p>Nextflow will automatically download and install the plugin when you run your pipeline. However, if you want to manually install it, you can do so using the Nextflow CLI:</p> <pre><code>nextflow plugin install nf-slack\n</code></pre> <p>You should see <code>nf-slack</code> in the list of installed plugins.</p>"},{"location":"getting-started/installation/#local-installation-development","title":"Local Installation (Development)","text":"<p>If you want to install a local development version of the plugin:</p> <ol> <li>Clone the repository</li> </ol> <pre><code>git clone https://github.com/seqeralabs/nf-slack.git\ncd nf-slack\n</code></pre> <ol> <li>Install locally</li> </ol> <pre><code>make install\n</code></pre> <p>This will build and install the plugin to your local Nextflow plugins directory. For more details on development setup, see the Contributing guide.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Set up your Bot User or Slack webhook</li> <li>Get started with basic notifications</li> <li>Configure the plugin</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get your first Slack notification working in minutes!</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, make sure you have:</p> <ul> <li> A Bot Token (Bot guide) OR Slack webhook URL (Webhook guide)</li> <li> A Nextflow pipeline (v25.04.0 or later)</li> <li> Basic familiarity with Nextflow configuration</li> </ul>"},{"location":"getting-started/quick-start/#step-1-add-the-plugin","title":"Step 1: Add the Plugin","text":"<p>Add the nf-slack plugin to your <code>nextflow.config</code>:</p> <pre><code>plugins {\n    id 'nf-slack@0.4.0'\n}\n</code></pre> <p>Using Multiple Plugins?</p> <p>If you already have a <code>plugins</code> block, just add the nf-slack entry:</p> <pre><code>plugins {\n    id 'nf-validation'\n    id 'nf-slack@0.4.0'  // Add this line\n}\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-configure-the-plugin","title":"Step 2: Configure the Plugin","text":"<p>Add the Slack configuration block with your Bot Token:</p> <pre><code>slack {\n    enabled = true\n\n    // Option A: Bot User\n    bot {\n        token = 'xoxb-your-token'\n        channel = 'general'\n    }\n\n    // Option B: Webhook\n    // webhook {\n    //     url = 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL'\n    // }\n}\n</code></pre> <p>Security Best Practice</p> <p>Don't hardcode your webhook URL! Use environment variables or Nextflow secrets instead:</p> <pre><code>slack {\n    enabled = true\n    bot {\n        token = System.getenv(\"SLACK_BOT_TOKEN\") // or secrets.SLACK_BOT_TOKEN\n        channel = 'general'\n    }\n}\n</code></pre>"},{"location":"getting-started/quick-start/#step-3-run-your-pipeline","title":"Step 3: Run Your Pipeline","text":"<p>That's it! Run your pipeline normally:</p> <pre><code>nextflow run main.nf\n</code></pre> <p>You'll receive Slack notifications when your pipeline:</p> <ul> <li>\ud83d\ude80 Starts</li> <li>\u2705 Completes successfully</li> <li>\u274c Fails</li> </ul> <p></p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you have basic notifications working, learn how to:</p> <ul> <li>Customize automatic notifications</li> <li>Send custom messages from your workflow</li> <li>Configure advanced options</li> <li>View more examples</li> </ul>"},{"location":"getting-started/quick-start/#need-help","title":"Need Help?","text":"<ul> <li>Review the API Reference</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"getting-started/webhook-setup/","title":"Slack Webhook Setup","text":"<p>This guide will walk you through setting up a Slack webhook for your workspace.</p> <p>Recommended: Use Bot User</p> <p>We recommend using a Bot User instead of a webhook for better security and features. See the Bot Setup Guide.</p>"},{"location":"getting-started/webhook-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>A Slack workspace where you have permission to add apps</li> <li>Access to your Nextflow pipeline configuration</li> </ul>"},{"location":"getting-started/webhook-setup/#step-1-create-a-slack-app","title":"Step 1: Create a Slack App","text":"<ol> <li>Go to Slack API Apps</li> <li>Click \"Create New App\"</li> <li>Choose \"From scratch\"</li> <li>Give your app a name (e.g., \"Nextflow Notifications\")</li> <li>Select your workspace</li> <li>Click \"Create App\"</li> </ol>"},{"location":"getting-started/webhook-setup/#step-2-enable-incoming-webhooks","title":"Step 2: Enable Incoming Webhooks","text":"<ol> <li>In your app's settings, navigate to \"Incoming Webhooks\" in the sidebar</li> <li>Toggle the switch to \"On\"</li> <li>Click \"Add New Webhook to Workspace\"</li> <li>Select the channel where you want notifications to appear</li> <li>Click \"Allow\"</li> </ol>"},{"location":"getting-started/webhook-setup/#step-3-copy-your-webhook-url","title":"Step 3: Copy Your Webhook URL","text":"<p>After authorization, you'll see your webhook URL. It will look like:</p> <pre><code>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX\n</code></pre> <p>Keep Your Webhook URL Secret</p> <p>This URL allows anyone to post messages to your Slack channel. Never commit it to version control or share it publicly.</p>"},{"location":"getting-started/webhook-setup/#step-4-store-your-webhook-url-securely","title":"Step 4: Store Your Webhook URL Securely","text":"<p>You have several options for managing the webhook URL securely:</p>"},{"location":"getting-started/webhook-setup/#option-1-environment-variable","title":"Option 1: Environment Variable","text":"<p>Recommended</p> <p>Set an environment variable:</p> <pre><code>export SLACK_WEBHOOK_URL='https://hooks.slack.com/services/YOUR/WEBHOOK/URL'\n</code></pre> <p>Then reference it in your <code>nextflow.config</code>:</p> <pre><code>slack {\n    webhook {\n        url = \"$SLACK_WEBHOOK_URL\"\n    }\n}\n</code></pre>"},{"location":"getting-started/webhook-setup/#option-2-nextflow-secret","title":"Option 2: Nextflow Secret","text":"<p>Better, but supported in fewer places</p> <p>Use Nextflow secrets:</p> <pre><code>nextflow secrets set SLACK_WEBHOOK_URL 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL'\n</code></pre> <p>Then reference it in your config:</p> <pre><code>slack {\n    webhook {\n        url = secrets.SLACK_WEBHOOK_URL\n    }\n}\n</code></pre>"},{"location":"getting-started/webhook-setup/#option-3-configuration-file","title":"Option 3: Configuration File","text":"<p>For testing only, you can put it directly in <code>nextflow.config</code>:</p> <pre><code>slack {\n    webhook {\n        url = 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL'\n    }\n}\n</code></pre> <p>Don't Commit Webhook URLs</p> <p>If you use this option, add your config file to <code>.gitignore</code> to prevent accidentally committing your webhook URL.</p>"},{"location":"getting-started/webhook-setup/#testing-your-webhook","title":"Testing Your Webhook","text":"<p>To verify your webhook is working, test it using curl:</p> <pre><code>curl -X POST -H 'Content-type: application/json' \\\n  --data '{\"text\":\"Test message from nf-slack\"}' \\\n  $SLACK_WEBHOOK_URL\n</code></pre> <p>If this works, you should see a test message in your Slack channel.</p>"},{"location":"getting-started/webhook-setup/#managing-webhooks","title":"Managing Webhooks","text":""},{"location":"getting-started/webhook-setup/#changing-the-channel","title":"Changing the Channel","text":"<p>You can create a new webhook for a different channel, or edit the existing webhook in your Slack app settings.</p>"},{"location":"getting-started/webhook-setup/#multiple-channels","title":"Multiple Channels","text":"<p>If you need to send notifications to multiple channels, create separate webhooks for each channel and configure them in your Nextflow config.</p>"},{"location":"getting-started/webhook-setup/#next-steps","title":"Next Steps","text":"<p>Now that you have your webhook URL configured, you can:</p> <ul> <li>Return to the Quick Start guide to configure the plugin</li> <li>Learn about automatic notifications</li> <li>Explore custom messages</li> </ul>"},{"location":"getting-started/webhook-setup/#learn-more","title":"Learn More","text":"<ul> <li>Slack Incoming Webhooks Documentation</li> <li>Nextflow Secrets Documentation</li> </ul>"},{"location":"reference/api/","title":"API Reference","text":"<p>Complete API reference for nf-slack plugin configuration options and functions.</p> <p>Quick Links:</p> <ul> <li>Usage Guide - Learn how to send custom messages</li> <li>Examples - See practical examples</li> </ul>"},{"location":"reference/api/#configuration","title":"Configuration","text":""},{"location":"reference/api/#slack","title":"<code>slack</code>","text":"Property Type Default Required Description <code>enabled</code> Boolean <code>true</code> No Master switch to enable/disable the plugin <code>bot</code> Closure - No* Bot configuration block (see <code>slack.bot</code>) <code>webhook</code> Closure - No* Webhook configuration block (see <code>slack.webhook</code>) <code>useThreads</code> Boolean <code>false</code> No Group all notifications in a single thread (Bot only) <code>onStart</code> Closure See <code>slack.onStart</code> No Configuration for workflow start notifications <code>onComplete</code> Closure See <code>slack.onComplete</code> No Configuration for workflow completion notifications <code>onError</code> Closure See <code>slack.onError</code> No Configuration for workflow error notifications <p>*Either <code>webhook</code> or <code>bot</code> is required. If neither is configured, the plugin will automatically disable itself.</p>"},{"location":"reference/api/#example","title":"Example","text":"<pre><code>slack {\n    enabled = true\n    bot { /* ... */ }\n    onStart { /* ... */ }\n    onComplete { /* ... */ }\n    onError { /* ... */ }\n}\n</code></pre>"},{"location":"reference/api/#slackbot","title":"<code>slack.bot</code>","text":"Property Type Default Required Description <code>token</code> String - Yes Bot User OAuth Token (starts with <code>xoxb-</code>) <code>channel</code> String - Yes Channel ID (e.g., <code>C12345678</code>) or Name (e.g., <code>general</code>) to send messages to"},{"location":"reference/api/#example_1","title":"Example","text":"<pre><code>bot {\n    token = 'xoxb-your-token'\n    channel = 'general'\n    useThreads = true  // Optional: group messages in threads\n}\n</code></pre>"},{"location":"reference/api/#slackwebhook","title":"<code>slack.webhook</code>","text":"Property Type Default Required Description <code>url</code> String - Yes Slack Incoming Webhook URL (must start with <code>https://hooks.slack.com/</code>)"},{"location":"reference/api/#example_2","title":"Example","text":"<pre><code>webhook {\n    url = 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL'\n}\n</code></pre>"},{"location":"reference/api/#slackonstart","title":"<code>slack.onStart</code>","text":"<p>Configuration for workflow start notifications.</p>"},{"location":"reference/api/#properties","title":"Properties","text":"Property Type Default Description <code>enabled</code> Boolean <code>true</code> Send notification when workflow starts <code>message</code> String or Map <code>'\ud83d\ude80 *Pipeline started*'</code> Start notification message <code>includeCommandLine</code> Boolean <code>true</code> Include command line in message <code>showFooter</code> Boolean <code>true</code> Show timestamp footer in message"},{"location":"reference/api/#message-available-fields","title":"Message Available Fields","text":"<ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Current status (always \"Running\" for start messages)</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>workDir</code> - Working directory path</li> </ul>"},{"location":"reference/api/#example_3","title":"Example","text":"<pre><code>onStart {\n    message = [\n        text: '\ud83d\ude80 *Production Pipeline Starting*',\n        color: '#3AA3E3',\n        includeFields: ['runName', 'status', 'commandLine'],\n        customFields: [\n            [title: 'Environment', value: 'Production', short: true],\n            [title: 'Priority', value: 'High', short: true]\n        ]\n    ]\n}\n</code></pre>"},{"location":"reference/api/#slackoncomplete","title":"<code>slack.onComplete</code>","text":"<p>Configuration for workflow completion notifications.</p>"},{"location":"reference/api/#properties_1","title":"Properties","text":"Property Type Default Description <code>enabled</code> Boolean <code>true</code> Send notification when workflow completes <code>message</code> String or Map <code>'\u2705 *Pipeline completed successfully*'</code> Completion notification message <code>includeCommandLine</code> Boolean <code>true</code> Include command line in message <code>includeResourceUsage</code> Boolean <code>true</code> Include task statistics and resource usage <code>showFooter</code> Boolean <code>true</code> Show timestamp footer in message <code>files</code> <code>List&lt;String&gt;</code> <code>[]</code> File paths to upload after completion notification (Bot only) <p>[!NOTE] &gt; <code>includeResourceUsage</code> is only available in the <code>onComplete</code> scope.</p>"},{"location":"reference/api/#message-available-fields_1","title":"Message Available Fields","text":"<ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Final status (e.g., \"OK\")</li> <li><code>duration</code> - Total workflow runtime</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>tasks</code> - Task execution statistics (count, succeeded, failed, cached)</li> </ul>"},{"location":"reference/api/#example_4","title":"Example","text":"<pre><code>onComplete {\n    message = [\n        text: '\u2705 *Analysis Complete*',\n        color: '#2EB887',\n        includeFields: ['runName', 'duration', 'tasks'],\n        customFields: [\n            [title: 'Results', value: 's3://bucket/results/', short: false],\n            [title: 'Cost', value: '$12.50', short: true]\n        ]\n    ]\n    includeResourceUsage = true\n}\n</code></pre>"},{"location":"reference/api/#slackonerror","title":"<code>slack.onError</code>","text":"<p>Configuration for workflow error notifications.</p>"},{"location":"reference/api/#properties_2","title":"Properties","text":"Property Type Default Description <code>enabled</code> Boolean <code>true</code> Send notification when workflow fails <code>message</code> String or Map <code>'\u274c *Pipeline failed*'</code> Error notification message <code>includeCommandLine</code> Boolean <code>true</code> Include command line in message <code>showFooter</code> Boolean <code>true</code> Show timestamp footer in message <code>files</code> <code>List&lt;String&gt;</code> <code>[]</code> File paths to upload after error notification (Bot only)"},{"location":"reference/api/#message-available-fields_2","title":"Message Available Fields","text":"<ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Error status</li> <li><code>duration</code> - Time before failure</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>errorMessage</code> - Error details</li> <li><code>failedProcess</code> - Name of the process that failed</li> </ul>"},{"location":"reference/api/#example_5","title":"Example","text":"<pre><code>onError {\n    message = [\n        text: '\u274c *Pipeline Failed*',\n        color: '#A30301',\n        includeFields: ['runName', 'duration', 'errorMessage', 'failedProcess'],\n        customFields: [\n            [title: 'Support', value: 'support@example.com', short: true],\n            [title: 'On-Call', value: '@devops', short: true]\n        ]\n    ]\n}\n</code></pre>"},{"location":"reference/api/#slackscopemessage-string","title":"<code>slack.&lt;scope&gt;.message (String)</code>","text":"<p>Use a string for quick, simple message customization. Supports Slack markdown (<code>*bold*</code>, <code>_italic_</code>, <code>`code`</code>), emojis, and newlines (<code>\\n</code>).</p>"},{"location":"reference/api/#example_6","title":"Example","text":"<pre><code>onStart {\n    message = '\ud83d\ude80 *Pipeline started*\\nRunning on cluster'\n}\n</code></pre>"},{"location":"reference/api/#slackscopemessage-map","title":"<code>slack.&lt;scope&gt;.message (Map)</code>","text":"<p>Use a map for full control with colors, fields, and custom data.</p> <p>Properties:</p> <ul> <li><code>text</code> (required) - Main message text</li> <li><code>color</code> - Hex color code (e.g., <code>#2EB887</code>)</li> <li><code>includeFields</code> - List of default fields (see <code>slack.&lt;scope&gt;.message.includeFields</code>)</li> <li><code>customFields</code> - List of custom fields with <code>title</code>, <code>value</code>, and optional <code>short</code> (boolean for 2-column layout)</li> </ul>"},{"location":"reference/api/#example_7","title":"Example","text":"<pre><code>onComplete {\n    message = [\n        text: '\u2705 *Analysis Complete*',\n        color: '#2EB887',\n        includeFields: ['runName', 'duration', 'status'],\n        customFields: [\n            [title: 'Sample Count', value: '150', short: true],\n            [title: 'Output Location', value: 's3://bucket/results/', short: false]\n        ]\n    ]\n}\n</code></pre>"},{"location":"reference/api/#slackscopemessageincludefields","title":"<code>slack.&lt;scope&gt;.message.includeFields</code>","text":"<p>The following fields can be included in the <code>includeFields</code> array when using map format:</p> Field Name Description Available In <code>runName</code> Nextflow run name (e.g., <code>tiny_euler</code>) All scopes <code>status</code> Workflow status with emoji All scopes <code>duration</code> Total workflow runtime (e.g., <code>2h 30m 15s</code>) <code>onComplete</code>, <code>onError</code> <code>commandLine</code> Full Nextflow command used to launch workflow All scopes <code>workDir</code> Working directory path <code>onStart</code> <code>errorMessage</code> Error details and stack trace <code>onError</code> <code>failedProcess</code> Name and tag of the process that failed <code>onError</code> <code>tasks</code> Task execution statistics <code>onComplete</code>"},{"location":"reference/api/#color-reference","title":"Color Reference","text":"<p>Standard color codes for Slack message attachments:</p> Name Hex Code Use Case Success Green <code>#2EB887</code> Successful completions Error Red <code>#A30301</code> Failures and errors Info Blue <code>#3AA3E3</code> Informational, start messages Warning Orange <code>#FFA500</code> Warnings Neutral Gray <code>#808080</code> Neutral information"},{"location":"reference/api/#functions","title":"Functions","text":""},{"location":"reference/api/#slackmessagestring-message","title":"<code>slackMessage(String message)</code>","text":"Parameter Type Required Description <code>message</code> String Yes Text to send to Slack"},{"location":"reference/api/#example_8","title":"Example","text":"<pre><code>slackMessage(\"Processing sample ${sample_id}\")\n</code></pre>"},{"location":"reference/api/#slackmessagemap-options","title":"<code>slackMessage(Map options)</code>","text":"Property Type Required Description <code>message</code> String Yes Message text (supports Slack markdown) <code>color</code> String No Hex color code (e.g., <code>\"#2EB887\"</code>) <code>fields</code> List\\&lt;Map&gt; No Array of custom field objects"},{"location":"reference/api/#example_9","title":"Example","text":"<pre><code>slackMessage([\n    message: \"Analysis complete!\",\n    color: \"#2EB887\",\n    fields: [\n        [\n            title: \"Status\",\n            value: \"Success\",\n            short: true\n        ],\n        [\n            title: \"Samples Processed\",\n            value: \"42\",\n            short: true\n        ]\n    ]\n])\n</code></pre>"},{"location":"reference/api/#fields","title":"Fields","text":"<p>When using the map format with custom <code>fields</code>, each field object supports:</p> Property Type Required Description <code>title</code> String Yes Field label/name <code>value</code> String Yes Field content <code>short</code> Boolean No Layout: <code>true</code> = 2 columns, <code>false</code> = full width <p>With workflow metadata:</p> <pre><code>workflow {\n    workflow.onComplete = {\n        def status = workflow.success ? \"\u2705 SUCCESS\" : \"\u274c FAILED\"\n        def color = workflow.success ? \"#2EB887\" : \"#A30301\"\n\n        slackMessage([\n            message: \"Workflow ${status}\",\n            color: color,\n            fields: [\n                [title: \"Duration\", value: \"${workflow.duration}\", short: true],\n                [title: \"Exit Status\", value: \"${workflow.exitStatus}\", short: true]\n            ]\n        ])\n    }\n}\n</code></pre>"},{"location":"reference/api/#return-value","title":"Return Value","text":"<p>The function does not return anything.</p>"},{"location":"reference/api/#slackfileupload","title":"<code>slackFileUpload</code>","text":"<p>Upload a file to Slack. Requires Bot User with <code>files:write</code> scope.</p>"},{"location":"reference/api/#simple-form","title":"Simple form","text":"Parameter Type Description <code>filePath</code> String Path to the file to upload <pre><code>slackFileUpload('/path/to/report.html')\n</code></pre>"},{"location":"reference/api/#map-form","title":"Map form","text":"Parameter Type Required Description <code>file</code> String Yes Path to the file (local or remote URI) <code>title</code> String No Title displayed in Slack <code>comment</code> String No Comment posted with the file <code>filename</code> String No Custom filename <pre><code>slackFileUpload(\n    file: 'results/qc_plot.png',\n    title: 'QC Results',\n    comment: 'Analysis complete',\n    filename: 'qc-results.png'\n)\n</code></pre>"},{"location":"usage/automatic-notifications/","title":"Automatic Notifications","text":"<p>Once configured, nf-slack automatically sends notifications for workflow events. No code changes needed!</p>"},{"location":"usage/automatic-notifications/#default-behavior","title":"Default Behavior","text":"<p>By default, nf-slack sends notifications for three workflow events:</p> <ul> <li>\ud83d\ude80 Workflow Start - When your pipeline begins execution</li> <li>\u2705 Workflow Complete - When your pipeline finishes successfully</li> <li>\u274c Workflow Error - When your pipeline encounters an error</li> </ul> <p></p>"},{"location":"usage/automatic-notifications/#notification-content","title":"Notification Content","text":""},{"location":"usage/automatic-notifications/#workflow-start","title":"Workflow Start","text":"<p>When a workflow starts, the notification includes:</p> <ul> <li>Run name</li> <li>Session ID</li> <li>Command line used to launch the workflow</li> <li>Work directory path</li> <li>Timestamp</li> </ul> <p></p>"},{"location":"usage/automatic-notifications/#workflow-complete","title":"Workflow Complete","text":"<p>When a workflow completes successfully, the notification includes:</p> <ul> <li>Run name</li> <li>Duration (total execution time)</li> <li>Task counts (succeeded, cached, failed)</li> <li>Resource usage summary</li> <li>Timestamp</li> </ul>"},{"location":"usage/automatic-notifications/#workflow-error","title":"Workflow Error","text":"<p>When a workflow fails, the notification includes:</p> <ul> <li>Run name</li> <li>Error message</li> <li>Failed process name</li> <li>Command line</li> <li>Work directory</li> <li>Timestamp</li> </ul>"},{"location":"usage/automatic-notifications/#controlling-notifications","title":"Controlling Notifications","text":""},{"location":"usage/automatic-notifications/#enabledisable-all-notifications","title":"Enable/Disable All Notifications","text":"<pre><code>slack {\n    enabled = true  // Set to false to disable all notifications\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n}\n</code></pre>"},{"location":"usage/automatic-notifications/#enabledisable-specific-events","title":"Enable/Disable Specific Events","text":"<p>Control which events trigger notifications:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart.enabled = false     // Don't notify on start\n    onComplete.enabled = true   // Notify on completion\n    onError.enabled = true      // Notify on errors\n}\n</code></pre> <p></p>"},{"location":"usage/automatic-notifications/#threading","title":"Threading","text":"<p>When using a Bot User, you can enable Threading to keep your Slack channels organized.</p> <p>With threading enabled:</p> <ol> <li>The Workflow Start notification creates a new parent message.</li> <li>Workflow Complete and Workflow Error notifications are posted as replies to that thread.</li> <li>Any Custom Messages sent from the workflow are also threaded.</li> </ol> <p>This significantly reduces noise in your channels, especially when running multiple pipelines simultaneously.</p> <p>[!NOTE] Threading requires a Bot Token and must be enabled in your configuration. See Configuration for details.</p>"},{"location":"usage/automatic-notifications/#file-uploads","title":"File Uploads","text":"<p>Files can be uploaded to a Slack message or thread. All paths are relative to the <code>launchDir</code> and are posted as a single message.</p> <p>To enable file uploading, add a <code>files</code> list to <code>onComplete</code> or <code>onError</code>:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = '#pipeline-results'\n    }\n\n    onComplete {\n        files = ['results/multiqc_report.html', 'results/pipeline_report.html']\n    }\n\n    onError {\n        files = ['results/pipeline_report.html']\n    }\n}\n</code></pre> <p>Files are uploaded after the notification message. If a file doesn't exist (e.g., the pipeline failed before creating it), it's skipped with a warning.</p> <p>When <code>useThreads</code> is enabled, uploaded files appear in the same thread as the notification messages.</p> <p>[!NOTE] File uploads requires a Bot User with <code>files:write</code> scope. See File Uploads in Custom Messages for details.</p>"},{"location":"usage/automatic-notifications/#common-notification-patterns","title":"Common Notification Patterns","text":""},{"location":"usage/automatic-notifications/#errors-only","title":"Errors Only","text":"<p>Only get notified when something goes wrong:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart.enabled = false\n    onComplete.enabled = false\n    onError.enabled = true\n}\n</code></pre>"},{"location":"usage/automatic-notifications/#start-and-error-only","title":"Start and Error Only","text":"<p>Get notified when pipelines start and if they fail:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart.enabled = true\n    onComplete.enabled = false\n    onError.enabled = true\n}\n</code></pre>"},{"location":"usage/automatic-notifications/#development-mode-quiet","title":"Development Mode (Quiet)","text":"<p>Disable all automatic notifications during development:</p> <pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n\n    onStart.enabled = false\n    onComplete.enabled = false\n    onError.enabled = false\n}\n</code></pre> <p>Custom Messages</p> <p>Even with automatic notifications disabled, you can still send custom messages from your workflow.</p>"},{"location":"usage/automatic-notifications/#notification-format","title":"Notification Format","text":"<p>All automatic messages use Slack's attachment format with Block Kit elements:</p> <ul> <li>Workflow Start: Blue color (<code>#3AA3E3</code>)</li> <li>Workflow Complete: Green color (<code>#2EB887</code>)</li> <li>Workflow Error: Red color (<code>#A30301</code>)</li> </ul> <p>Each message includes:</p> <ul> <li>Workflow name as the author</li> <li>Nextflow icon</li> <li>Timestamp footer</li> <li>Configurable bot username and icon (see Configuration)</li> </ul>"},{"location":"usage/automatic-notifications/#advanced-configuration","title":"Advanced Configuration","text":"<p>For advanced customization options, see:</p> <ul> <li>Custom Messages - Send messages from your workflow</li> <li>Configuration - Advanced configuration options</li> <li>API Reference - Complete configuration reference</li> </ul>"},{"location":"usage/automatic-notifications/#next-steps","title":"Next Steps","text":"<ul> <li>Learn how to send custom messages from your workflow</li> <li>Explore configuration options to customize notifications</li> <li>View examples for real-world use cases</li> </ul>"},{"location":"usage/configuration/","title":"Configuration","text":"<p>Advanced configuration options for customizing nf-slack notifications.</p>"},{"location":"usage/configuration/#overview","title":"Overview","text":"<p>The nf-slack plugin is configured through the <code>slack</code> block in your <code>nextflow.config</code>.</p>"},{"location":"usage/configuration/#basic-structure","title":"Basic Structure","text":"<pre><code>slack {\n    enabled = true\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n    onStart { /* ... */ }\n    onComplete { /* ... */ }\n    onError { /* ... */ }\n}\n</code></pre>"},{"location":"usage/configuration/#master-switch","title":"Master Switch","text":""},{"location":"usage/configuration/#enabledisable-the-plugin","title":"Enable/Disable the Plugin","text":"<pre><code>slack {\n    enabled = true  // Set to false to disable all Slack functionality\n}\n</code></pre> <p>When <code>enabled = false</code>:</p> <ul> <li>No automatic notifications are sent</li> <li>Custom <code>slackMessage()</code> calls are silently ignored</li> <li>No Slack API calls are made</li> </ul>"},{"location":"usage/configuration/#bot-configuration","title":"Bot Configuration","text":""},{"location":"usage/configuration/#basic-bot-setup","title":"Basic Bot Setup","text":"<pre><code>slack {\n    bot {\n        token = 'xoxb-your-bot-token'\n        channel = 'general'\n    }\n}\n</code></pre> <p>Using Channel Names vs IDs</p> <p>You can use either a channel name (e.g., <code>'general'</code>) or a Channel ID (e.g., <code>'C123456'</code>). Channel IDs are recommended for critical pipelines as they remain stable even if the channel is renamed.</p>"},{"location":"usage/configuration/#using-environment-variables","title":"Using Environment Variables","text":"<pre><code>slack {\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n}\n</code></pre>"},{"location":"usage/configuration/#using-nextflow-secrets","title":"Using Nextflow Secrets","text":"<pre><code>slack {\n    bot {\n        token = secrets.SLACK_BOT_TOKEN\n        channel = 'general'\n    }\n}\n</code></pre> <p>Security Best Practice</p> <p>Never hardcode tokens in configuration files that are committed to version control. Use environment variables or Nextflow secrets.</p>"},{"location":"usage/configuration/#event-notification-control","title":"Event Notification Control","text":""},{"location":"usage/configuration/#enabledisable-individual-events","title":"Enable/Disable Individual Events","text":"<p>Control which workflow events trigger notifications:</p> <pre><code>slack {\n    onStart {\n        enabled = true  // Notify when workflow starts\n    }\n\n    onComplete {\n        enabled = true  // Notify when workflow completes\n    }\n\n    onError {\n        enabled = true  // Notify when workflow fails\n    }\n}\n</code></pre>"},{"location":"usage/configuration/#threading","title":"Threading","text":"<p>Group all workflow notifications (start, complete, error) into a single thread to reduce channel clutter. This is particularly useful for high-volume pipelines.</p> <pre><code>slack {\n    useThreads = true  // Enable threading\n    bot {\n        token = System.getenv('SLACK_BOT_TOKEN')\n        channel = 'general'\n    }\n}\n</code></pre> <p>How it works:</p> <ul> <li>The initial \"workflow started\" message creates a new thread</li> <li>Subsequent messages (complete/error) are posted as replies to that thread</li> <li>Custom messages sent via <code>slackMessage()</code> are also posted in the thread</li> <li>Each new workflow run creates a separate thread</li> </ul> <p>Bot Tokens Only</p> <p>Threading only works with bot tokens, not webhooks. Webhooks do not support thread creation or replies.</p>"},{"location":"usage/configuration/#customizing-messages","title":"Customizing Messages","text":""},{"location":"usage/configuration/#simple-text-messages","title":"Simple Text Messages","text":"<p>Replace the default message text:</p> <pre><code>slack {\n    onStart {\n        message = '\ud83c\udfac *Production pipeline is starting!*'\n    }\n\n    onComplete {\n        message = '\ud83c\udf89 *Analysis completed successfully!*'\n    }\n\n    onError {\n        message = '\ud83d\udca5 *Pipeline encountered an error!*'\n    }\n}\n</code></pre> <p></p>"},{"location":"usage/configuration/#adding-custom-fields","title":"Adding Custom Fields","text":"<p>Include additional information in notifications:</p> <pre><code>slack {\n    onComplete {\n        message = [\n            text: '\u2705 *Analysis Complete*',\n            customFields: [\n                [title: 'Environment', value: 'Production', short: true],\n                [title: 'Cost', value: '$12.50', short: true]\n            ]\n        ]\n    }\n}\n</code></pre> <p></p>"},{"location":"usage/configuration/#field-options","title":"Field Options","text":"<p>Each field in <code>customFields</code> can have:</p> Property Type Description Required <code>title</code> String Field label Yes <code>value</code> String Field content Yes <code>short</code> Boolean Display in columns (default: false) No"},{"location":"usage/configuration/#controlling-workflow-information","title":"Controlling Workflow Information","text":""},{"location":"usage/configuration/#includeexclude-workflow-fields","title":"Include/Exclude Workflow Fields","text":"<p>Choose which workflow information to display:</p> <pre><code>slack {\n    onComplete {\n        message = [\n            text: '\u2705 *Pipeline Complete*',\n            includeFields: ['runName', 'duration', 'tasks']\n            // Only shows: run name, duration, and task statistics\n        ]\n    }\n}\n</code></pre>"},{"location":"usage/configuration/#available-workflow-fields","title":"Available Workflow Fields","text":"<p>onStart fields:</p> <ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Current status</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>workDir</code> - Working directory path</li> </ul> <p>onComplete fields:</p> <ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Final status</li> <li><code>duration</code> - Total workflow runtime</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>tasks</code> - Task execution statistics</li> </ul> <p>onError fields:</p> <ul> <li><code>runName</code> - Workflow run name</li> <li><code>status</code> - Error status</li> <li><code>duration</code> - Time before failure</li> <li><code>commandLine</code> - Full Nextflow command</li> <li><code>errorMessage</code> - Error details</li> <li><code>failedProcess</code> - Name of failed process</li> </ul>"},{"location":"usage/configuration/#command-line-control","title":"Command Line Control","text":"<p>Control whether the command line is included:</p> <pre><code>slack {\n    onStart {\n        includeCommandLine = false  // Don't show command line\n    }\n\n    onComplete {\n        includeCommandLine = true  // Show command line (default)\n    }\n}\n</code></pre>"},{"location":"usage/configuration/#resource-usage-oncomplete-only","title":"Resource Usage (onComplete only)","text":"<p>Control whether task statistics and resource usage are included:</p> <pre><code>slack {\n    onComplete {\n        includeResourceUsage = true  // Show task stats (default)\n    }\n}\n</code></pre>"},{"location":"usage/configuration/#oncomplete-properties","title":"onComplete Properties","text":"Property Type Default Description <code>enabled</code> Boolean <code>true</code> Enable/disable completion notifications <code>message</code> String or Map Default message Custom notification text or message object <code>includeCommandLine</code> Boolean <code>true</code> Include the Nextflow command line in the message <code>includeResourceUsage</code> Boolean <code>true</code> Include task statistics and resource usage <code>showFooter</code> Boolean <code>true</code> Display timestamp footer <code>files</code> <code>List&lt;String&gt;</code> <code>[]</code> List of file paths to upload on completion (Bot only)"},{"location":"usage/configuration/#onerror-properties","title":"onError Properties","text":"Property Type Default Description <code>enabled</code> Boolean <code>true</code> Enable/disable error notifications <code>message</code> String or Map Default message Custom notification text or message object <code>includeCommandLine</code> Boolean <code>true</code> Include the Nextflow command line in the message <code>showFooter</code> Boolean <code>true</code> Display timestamp footer <code>files</code> <code>List&lt;String&gt;</code> <code>[]</code> List of file paths to upload on error (Bot only)"},{"location":"usage/configuration/#footer-display","title":"Footer Display","text":"<p>Control whether a timestamp footer is shown at the bottom of messages:</p> <pre><code>slack {\n    onStart {\n        showFooter = true  // Show timestamp (default)\n    }\n\n    onComplete {\n        showFooter = false  // Hide timestamp footer\n    }\n\n    onError {\n        showFooter = true  // Show timestamp\n    }\n}\n</code></pre> <p>The footer displays a human-readable timestamp (e.g., \"Nov 20, 2025 at 6:54 PM\").</p>"},{"location":"usage/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about automatic notifications</li> <li>Explore custom messages from workflows</li> <li>View example gallery</li> <li>Check the complete API Reference</li> </ul>"},{"location":"usage/custom-messages/","title":"Custom Messages","text":"<p>Send custom Slack messages from within your workflow scripts using the <code>slackMessage()</code> function.</p> <p>Prerequisites</p> <p>The plugin must be enabled and configured for custom messages to work. See Quick Start if you haven't set up the plugin yet.</p>"},{"location":"usage/custom-messages/#basic-usage","title":"Basic Usage","text":""},{"location":"usage/custom-messages/#simple-text-messages","title":"Simple Text Messages","text":"<p>Send a simple text message:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    slackMessage(\"\ud83d\udd2c Starting analysis for sample ${params.sample_id}\")\n\n    // Your workflow logic here\n    MY_PROCESS(input_ch)\n\n    slackMessage(\"\u2705 Analysis complete!\")\n}\n</code></pre> <p></p>"},{"location":"usage/custom-messages/#rich-formatted-messages","title":"Rich Formatted Messages","text":""},{"location":"usage/custom-messages/#adding-custom-fields","title":"Adding Custom Fields","text":"<p>Create rich messages with custom fields:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    slackMessage([\n        message: \"Analysis Results\",\n        fields: [\n            [title: \"Sample\", value: params.sample_id, short: true],\n            [title: \"Status\", value: \"Success\", short: true],\n            [title: \"Total Variants\", value: \"1,234\", short: true],\n            [title: \"Duration\", value: \"2h 30m\", short: true]\n        ]\n    ])\n}\n</code></pre>"},{"location":"usage/custom-messages/#message-structure","title":"Message Structure","text":"<p>When using the map format, you can specify:</p> Property Type Description Required <code>message</code> String Main message text Yes <code>fields</code> List Array of field objects No"},{"location":"usage/custom-messages/#field-structure","title":"Field Structure","text":"<p>Each field in the <code>fields</code> array can have:</p> Property Type Description Required <code>title</code> String Field label Yes <code>value</code> String Field content Yes <code>short</code> Boolean Show in column layout (default: false) No <pre><code>// Success message\nslackMessage([\n    message: \"\u2705 Pipeline completed successfully\"\n])\n\n// Error message\nslackMessage([\n    message: \"\u274c Quality control failed\"\n])\n\n// Info message\nslackMessage([\n    message: \"\u2139\ufe0f Processing 100 samples\"\n])\n\n// Warning message\nslackMessage([\n    message: \"\u26a0\ufe0f Low coverage detected\"\n])\n</code></pre>"},{"location":"usage/custom-messages/#common-use-cases","title":"Common Use Cases","text":""},{"location":"usage/custom-messages/#send-results-summary","title":"Send Results Summary","text":"<p>Notify when analysis completes with summary statistics:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    ANALYZE_DATA(input_ch)\n\n    ANALYZE_DATA.out.results\n        .map { sample, vcf, stats -&gt;\n            slackMessage([\n                message: \"Sample ${sample} analyzed\",\n                fields: [\n                    [title: \"Sample\", value: sample, short: true],\n                    [title: \"Variants\", value: stats.variant_count, short: true],\n                    [title: \"Quality\", value: stats.mean_quality, short: true]\n                ]\n            ])\n        }\n}\n</code></pre>"},{"location":"usage/custom-messages/#progress-updates","title":"Progress Updates","text":"<p>Send notifications at key workflow milestones:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    slackMessage(\"\ud83d\ude80 Starting processing of ${sample_count} samples\")\n\n    QUALITY_CONTROL(input_ch).map { results -&gt;\n        slackMessage(\"\u2705 Quality control complete\")\n    }\n\n    ALIGNMENT(QUALITY_CONTROL.out).map { results -&gt;\n        slackMessage(\"\u2705 Alignment complete\")\n    }\n\n    VARIANT_CALLING(ALIGNMENT.out).map { results -&gt;\n        slackMessage(\"\u2705 Variant calling complete\")\n    }\n}\n</code></pre>"},{"location":"usage/custom-messages/#conditional-notifications","title":"Conditional Notifications","text":"<p>Send messages based on conditions:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    QUALITY_CHECK(input_ch)\n        .branch { sample, qc -&gt;\n            pass: qc.score &gt;= 30\n            fail: qc.score &lt; 30\n        }\n        .set { qc_results }\n\n    // Notify on failures\n    qc_results.fail\n        .map { sample, qc -&gt;\n            slackMessage([\n                message: \"\u26a0\ufe0f Quality check failed for ${sample}\",\n                fields: [\n                    [title: \"Sample\", value: sample, short: true],\n                    [title: \"Score\", value: qc.score.toString(), short: true]\n                ]\n            ])\n        }\n}\n</code></pre>"},{"location":"usage/custom-messages/#batch-notifications","title":"Batch Notifications","text":"<p>Collect results and send a summary:</p> <pre><code>include { slackMessage } from 'plugin/nf-slack'\n\nworkflow {\n    PROCESS_SAMPLES(input_ch)\n        .collect()\n        .map { results -&gt;\n            def total = results.size()\n            def success = results.count { it.status == 'success' }\n            def failed = results.count { it.status == 'failed' }\n\n            slackMessage([\n                message: \"Batch processing complete\",\n                fields: [\n                    [title: \"Total Samples\", value: total.toString(), short: true],\n                    [title: \"Successful\", value: success.toString(), short: true],\n                    [title: \"Failed\", value: failed.toString(), short: true]\n                ]\n            ])\n        }\n}\n</code></pre>"},{"location":"usage/custom-messages/#file-uploads","title":"File Uploads","text":"<p>Upload files to Slack using <code>slackFileUpload()</code>. This is the file equivalent of <code>slackMessage()</code>.</p> <p>[!NOTE] File uploads requires a Bot User with <code>files:write</code> scope. See Bot Setup for details.</p>"},{"location":"usage/custom-messages/#basic-usage_1","title":"Basic Usage","text":"<pre><code>include { slackFileUpload } from 'plugin/nf-slack'\n\nworkflow {\n    // Simple \u2014 just a file path\n    slackFileUpload('/path/to/results/report.html')\n\n    // With metadata\n    slackFileUpload(\n        file: '/path/to/results/qc_plot.png',\n        title: 'Quality Control Plot',\n        comment: 'QC results look good!',\n        filename: 'qc-results.png'\n    )\n}\n</code></pre>"},{"location":"usage/custom-messages/#options","title":"Options","text":"Option Type Required Description <code>file</code> <code>String</code> Yes Path to the file. Supports local paths and remote URIs (<code>s3://</code>, <code>az://</code>, <code>gs://</code>) <code>title</code> <code>String</code> No Title displayed in Slack (defaults to filename) <code>comment</code> <code>String</code> No Comment posted alongside the file <code>filename</code> <code>String</code> No Custom filename in Slack (defaults to original filename)"},{"location":"usage/custom-messages/#upload-in-a-completion-handler","title":"Upload in a Completion Handler","text":"<p>Use Nextflow's <code>workflow.onComplete</code> handler for conditional uploads based on workflow status:</p> <pre><code>include { slackFileUpload } from 'plugin/nf-slack'\n\nworkflow.onComplete {\n    slackFileUpload(\n        file: \"${workflow.launchDir}/results/pipeline_report.html\",\n        title: 'Pipeline Report',\n        comment: workflow.success ? '\u2705 Pipeline completed!' : '\u274c Pipeline failed'\n    )\n\n    if (workflow.success) {\n        slackFileUpload(\n            file: \"${workflow.launchDir}/results/multiqc_report.html\",\n            title: 'MultiQC Report'\n        )\n    }\n}\n\nworkflow {\n    // ... your pipeline processes\n}\n</code></pre>"},{"location":"usage/custom-messages/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about automatic notifications</li> <li>Explore configuration options</li> <li>View example gallery for real-world patterns</li> <li>Check the API reference for all options</li> </ul>"}]}