/*
 * Example 10: File Upload on Completion
 *
 * Upload files automatically when a pipeline completes or fails.
 * Requires a Bot User with files:write scope.
 */
plugins {
    id 'nf-slack@0.3.1'
}

slack {
    enabled = true
    bot {
        token = "$SLACK_BOT_TOKEN"
        channel = "$SLACK_CHANNEL_ID"
    }

    onComplete {
        files = ['results/multiqc_report.html', 'results/pipeline_report.html']
    }

    onError {
        files = ['results/pipeline_report.html']
    }
}
